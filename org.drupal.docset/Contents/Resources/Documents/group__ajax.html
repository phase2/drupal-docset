<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Drupal: Ajax framework</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Drupal
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Ajax framework</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga241c2426bdde049c55b05b7bf5d714a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ajax.html#ga241c2426bdde049c55b05b7bf5d714a2">ajax_render</a> ($commands=array())</td></tr>
<tr class="memitem:ga9bc57ec64df41b20fd92b21fe8c1e6b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ajax.html#ga9bc57ec64df41b20fd92b21fe8c1e6b0">ajax_get_form</a> ()</td></tr>
<tr class="memitem:gabe2739824006df057d291f6be49759ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ajax.html#gabe2739824006df057d291f6be49759ab">ajax_form_callback</a> ()</td></tr>
<tr class="memitem:ga9d02bfeb3c0e9c3aa36c7f7645a042eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ajax.html#ga9d02bfeb3c0e9c3aa36c7f7645a042eb">ajax_base_page_theme</a> ()</td></tr>
<tr class="memitem:ga44a56b3660e97b39f87535a9a2bc8d8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ajax.html#ga44a56b3660e97b39f87535a9a2bc8d8a">ajax_deliver</a> ($page_callback_result)</td></tr>
<tr class="memitem:ga1dc07e6b41b955efdf29c2e7bf0aecdd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ajax.html#ga1dc07e6b41b955efdf29c2e7bf0aecdd">ajax_prepare_response</a> ($page_callback_result)</td></tr>
<tr class="memitem:ga6994db099f28d8e2d51218813e730834"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ajax.html#ga6994db099f28d8e2d51218813e730834">ajax_footer</a> ()</td></tr>
<tr class="memitem:ga41a006b5f6d97e6e56e542f68fbc340d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ajax.html#ga41a006b5f6d97e6e56e542f68fbc340d">ajax_process_form</a> ($element, &amp;$form_state)</td></tr>
<tr class="memitem:ga028d2f2b6b3875d91ea6cc88b19f237b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ajax.html#ga028d2f2b6b3875d91ea6cc88b19f237b">ajax_pre_render_element</a> ($element)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>Functions for Drupal's Ajax framework.</p>
<p>Drupal's Ajax framework is used to dynamically update parts of a page's HTML based on data from the server. Upon a specified event, such as a button click, a callback function is triggered which performs server-side logic and may return updated markup, which is then replaced on-the-fly with no page refresh necessary.</p>
<p>This framework creates a PHP macro language that allows the server to instruct JavaScript to perform actions on the client browser. When using forms, it can be used with the #ajax property. The #ajax property can be used to bind events to the Ajax framework. By default, #ajax uses 'system/ajax' as its path for submission and thus calls <a class="el" href="group__ajax.html#gabe2739824006df057d291f6be49759ab">ajax_form_callback()</a> and a defined #ajax['callback'] function. However, you may optionally specify a different path to request or a different callback function to invoke, which can return updated HTML or can also return a richer set of <a class="el" href="group__ajax__commands.html">Ajax framework commands </a>.</p>
<p>Standard form handling is as follows:</p>
<ul>
<li>A form element has a #ajax property that includes #ajax['callback'] and omits #ajax['path']. See below about using #ajax['path'] to implement advanced use-cases that require something other than standard form handling.</li>
<li>On the specified element, Ajax processing is triggered by a change to that element.</li>
<li>The browser submits an HTTP POST request to the 'system/ajax' Drupal path.</li>
<li>The menu page callback for 'system/ajax', <a class="el" href="group__ajax.html#gabe2739824006df057d291f6be49759ab">ajax_form_callback()</a>, calls <a class="el" href="group__form__api.html#ga61186f5c43533761544a778918818fd2">drupal_process_form()</a> to process the form submission and rebuild the form if necessary. The form is processed in much the same way as if it were submitted without Ajax, with the same #process functions and validation and submission handlers called in either case, making it easy to create Ajax-enabled forms that degrade gracefully when JavaScript is disabled.</li>
<li>After form processing is complete, <a class="el" href="group__ajax.html#gabe2739824006df057d291f6be49759ab">ajax_form_callback()</a> calls the function named by #ajax['callback'], which returns the form element that has been updated and needs to be returned to the browser, or alternatively, an array of custom Ajax commands.</li>
<li>The page delivery callback for 'system/ajax', <a class="el" href="group__ajax.html#ga44a56b3660e97b39f87535a9a2bc8d8a">ajax_deliver()</a>, renders the element returned by #ajax['callback'], and returns the JSON string created by <a class="el" href="group__ajax.html#ga241c2426bdde049c55b05b7bf5d714a2">ajax_render()</a> to the browser.</li>
<li>The browser unserializes the returned JSON string into an array of command objects and executes each command, resulting in the old page content within and including the HTML element specified by <h1>ajax['wrapper'] being replaced by the new content returned by</h1>
</li>
</ul>
<h1>ajax['callback'], using a JavaScript animation effect specified by</h1>
<h1>ajax['effect'].</h1>
<p>A simple example of basic Ajax use from the <a class="el" href="">Examples module </a> follows: </p>
<div class="fragment"><pre class="fragment"> <span class="keyword">function</span> main_page() {
   <span class="keywordflow">return</span> <a class="code" href="group__form__api.html#ga720df81a837b06dfe19daf1c1eea3437">drupal_get_form</a>(<span class="stringliteral">&#39;ajax_example_simplest&#39;</span>);
 }

 <span class="keyword">function</span> ajax_example_simplest($form, &amp;$form_state) {
   $form = array();
   $form[<span class="stringliteral">&#39;changethis&#39;</span>] = array(
     <span class="stringliteral">&#39;#type&#39;</span> =&gt; <span class="stringliteral">&#39;select&#39;</span>,
     <span class="stringliteral">&#39;#options&#39;</span> =&gt; array(
       <span class="stringliteral">&#39;one&#39;</span> =&gt; <span class="stringliteral">&#39;one&#39;</span>,
       <span class="stringliteral">&#39;two&#39;</span> =&gt; <span class="stringliteral">&#39;two&#39;</span>,
       <span class="stringliteral">&#39;three&#39;</span> =&gt; <span class="stringliteral">&#39;three&#39;</span>,
     ),
     <span class="stringliteral">&#39;#ajax&#39;</span> =&gt; array(
       <span class="stringliteral">&#39;callback&#39;</span> =&gt; <span class="stringliteral">&#39;ajax_example_simplest_callback&#39;</span>,
       <span class="stringliteral">&#39;wrapper&#39;</span> =&gt; <span class="stringliteral">&#39;replace_textfield_div&#39;</span>,
      ),
   );

   <span class="comment">// This entire form element will be replaced with an updated value.</span>
   $form[<span class="stringliteral">&#39;replace_textfield&#39;</span>] = array(
     <span class="stringliteral">&#39;#type&#39;</span> =&gt; <span class="stringliteral">&#39;textfield&#39;</span>,
     <span class="stringliteral">&#39;#title&#39;</span> =&gt; t(<span class="stringliteral">&quot;The default value will be changed&quot;</span>),
     <span class="stringliteral">&#39;#description&#39;</span> =&gt; t(<span class="stringliteral">&quot;Say something about why you chose&quot;</span>) . <span class="stringliteral">&quot;&#39;&quot;</span> .
       (!empty($form_state[<span class="stringliteral">&#39;values&#39;</span>][<span class="stringliteral">&#39;changethis&#39;</span>])
       ? $form_state[<span class="stringliteral">&#39;values&#39;</span>][<span class="stringliteral">&#39;changethis&#39;</span>] : t(<span class="stringliteral">&quot;Not changed yet&quot;</span>)) . <span class="stringliteral">&quot;&#39;&quot;</span>,
     <span class="stringliteral">&#39;#prefix&#39;</span> =&gt; <span class="stringliteral">&#39;&lt;div id=&quot;replace_textfield_div&quot;&gt;&#39;</span>,
     <span class="stringliteral">&#39;#suffix&#39;</span> =&gt; <span class="stringliteral">&#39;&lt;/div&gt;&#39;</span>,
   );
   <span class="keywordflow">return</span> $form;
 }

 <span class="keyword">function</span> ajax_example_simplest_callback($form, $form_state) {
   <span class="comment">// The form has already been submitted and updated. We can return the replaced</span>
   <span class="comment">// item as it is.</span>
   <span class="keywordflow">return</span> $form[<span class="stringliteral">&#39;replace_textfield&#39;</span>];
 }
</pre></div><p>In the above example, the 'changethis' element is Ajax-enabled. The default </p>
<h1>ajax['event'] is 'change', so when the 'changethis' element changes,</h1>
<p>an Ajax call is made. The form is submitted and reprocessed, and then the callback is called. In this case, the form has been automatically built changing $form['replace_textfield']['#description'], so the callback just returns that part of the form.</p>
<p>To implement Ajax handling in a form, add '#ajax' to the form definition of a field. That field will trigger an Ajax event when it is clicked (or changed, depending on the kind of field). #ajax supports the following parameters (either 'path' or 'callback' is required at least):</p>
<ul>
<li>#ajax['callback']: The callback to invoke to handle the server side of the Ajax event, which will receive a $form and $form_state as arguments, and returns a renderable array (most often a form or form fragment), an HTML string, or an array of Ajax commands. If returning a renderable array or a string, the value will replace the original element named in <h1>ajax['wrapper'], and</h1>
</li>
</ul>
<p><a class="el" href="group__themeable.html#gad29a18ad4d19a5fc0a3c75a8804f0331">theme_status_messages()</a> will be prepended to that element. (If the status messages are not wanted, return an array of Ajax commands instead.) </p>
<h1>ajax['wrapper']. If an array of Ajax commands is returned, it will be</h1>
<p>executed by the calling code.</p>
<ul>
<li>#ajax['path']: The menu path to use for the request. This is often omitted and the default is used. This path should map to a menu page callback that returns data using <a class="el" href="group__ajax.html#ga241c2426bdde049c55b05b7bf5d714a2">ajax_render()</a>. Defaults to 'system/ajax', which invokes <a class="el" href="group__ajax.html#gabe2739824006df057d291f6be49759ab">ajax_form_callback()</a>, eventually calling the function named in #ajax['callback']. If you use a custom path, you must set up the menu entry and handle the entire callback in your own code.</li>
<li>#ajax['wrapper']: The CSS ID of the area to be replaced by the content returned by the #ajax['callback'] function. The content returned from the callback will replace the entire element named by #ajax['wrapper']. The wrapper is usually created using #prefix and #suffix properties in the form. Note that this is the wrapper ID, not a CSS selector. So to replace the element referred to by the CSS selector #some-selector on the page, use #ajax['wrapper'] = 'some-selector', not '#some-selector'.</li>
<li>#ajax['effect']: The jQuery effect to use when placing the new HTML. Defaults to no effect. Valid options are 'none', 'slide', or 'fade'.</li>
<li>#ajax['speed']: The effect speed to use. Defaults to 'slow'. May be 'slow', 'fast' or a number in milliseconds which represents the length of time the effect should run.</li>
<li>#ajax['event']: The JavaScript event to respond to. This is normally selected automatically for the type of form widget being used, and is only needed if you need to override the default behavior.</li>
<li>#ajax['prevent']: A JavaScript event to prevent when 'event' is triggered. Defaults to 'click' for #ajax on #type 'submit', 'button', and 'image_button'. Multiple events may be specified separated by spaces. For example, when binding #ajax behaviors to form buttons, pressing the ENTER key within a textfield triggers the 'click' event of the form's first submit button. Triggering Ajax in this situation leads to problems, like breaking autocomplete textfields. Because of that, Ajax behaviors are bound to the 'mousedown' event on form buttons by default. However, binding to 'mousedown' rather than 'click' means that it is possible to trigger a click by pressing the mouse, holding the mouse button down until the Ajax request is complete and the button is re-enabled, and then releasing the mouse button. For this case, 'prevent' can be set to 'click', so an additional event handler is bound to prevent such a click from triggering a non-Ajax form submission. This also prevents a textfield's ENTER press triggering a button's non-Ajax form submission behavior.</li>
<li>#ajax['method']: The jQuery method to use to place the new HTML. Defaults to 'replaceWith'. May be: 'replaceWith', 'append', 'prepend', 'before', 'after', or 'html'. See the <a class="el" href="">jQuery manipulators documentation </a> for more information on these methods.</li>
<li>#ajax['progress']: Choose either a throbber or progress bar that is displayed while awaiting a response from the callback, and add an optional message. Possible keys: 'type', 'message', 'url', 'interval'. More information is available in the <a class="el" href="">Form API Reference </a></li>
</ul>
<p>In addition to using Form API for doing in-form modification, Ajax may be enabled by adding classes to buttons and links. By adding the 'use-ajax' class to a link, the link will be loaded via an Ajax call. When using this method, the href of the link can contain '/nojs/' as part of the path. When the Ajax framework makes the request, it will convert this to '/ajax/'. The server is then able to easily tell if this request was made through an actual Ajax request or in a degraded state, and respond appropriately.</p>
<p>Similarly, submit buttons can be given the class 'use-ajax-submit'. The form will then be submitted via Ajax to the path specified in the #action. Like the ajax-submit class above, this path will have '/nojs/' replaced with '/ajax/' so that the submit handler can tell if the form was submitted in a degraded state or not.</p>
<p>When responding to Ajax requests, the server should do what it needs to do for that request, then create a commands array. This commands array will be converted to a JSON object and returned to the client, which will then iterate over the array and process it like a macro language.</p>
<p>Each command item is an associative array which will be converted to a command object on the JavaScript side. $command_item['command'] is the type of command, e.g. 'alert' or 'replace', and will correspond to a method in the Drupal.ajax[command] space. The command array may contain any other data that the command needs to process, e.g. 'method', 'selector', 'settings', etc.</p>
<p>Commands are usually created with a couple of helper functions, so they look like this: </p>
<div class="fragment"><pre class="fragment">   $commands = array();
   <span class="comment">// Replace the content of &#39;#object-1&#39; on the page with &#39;some html here&#39;.</span>
   $commands[] = <a class="code" href="group__ajax__commands.html#ga558989ae457ca293bfb8ea19070ed334">ajax_command_replace</a>(<span class="stringliteral">&#39;#object-1&#39;</span>, <span class="stringliteral">&#39;some html here&#39;</span>);
   <span class="comment">// Add a visual &quot;changed&quot; marker to the &#39;#object-1&#39; element.</span>
   $commands[] = <a class="code" href="group__ajax__commands.html#ga64ba8a2e560b17e4fc8ca090a37314a0">ajax_command_changed</a>(<span class="stringliteral">&#39;#object-1&#39;</span>);
   <span class="comment">// Menu &#39;page callback&#39; and #ajax[&#39;callback&#39;] functions are supposed to</span>
   <span class="comment">// return render arrays. If returning an Ajax commands array, it must be</span>
   <span class="comment">// encapsulated in a render array structure.</span>
   <span class="keywordflow">return</span> array(<span class="stringliteral">&#39;#type&#39;</span> =&gt; <span class="stringliteral">&#39;ajax&#39;</span>, <span class="stringliteral">&#39;#commands&#39;</span> =&gt; $commands);
</pre></div><p>When returning an Ajax command array, it is often useful to have status messages rendered along with other tasks in the command array. In that case the the Ajax commands array may be constructed like this: </p>
<div class="fragment"><pre class="fragment">   $commands = array();
   $commands[] = <a class="code" href="group__ajax__commands.html#ga558989ae457ca293bfb8ea19070ed334">ajax_command_replace</a>(NULL, $output);
   $commands[] = <a class="code" href="group__ajax__commands.html#gaafaae3874d173618f88c0baa1fdab12b">ajax_command_prepend</a>(NULL, <a class="code" href="theme_8inc.html#a7c25609a935874541a19657affd30fff">theme</a>(<span class="stringliteral">&#39;status_messages&#39;</span>));
   <span class="keywordflow">return</span> array(<span class="stringliteral">&#39;#type&#39;</span> =&gt; <span class="stringliteral">&#39;ajax&#39;</span>, <span class="stringliteral">&#39;#commands&#39;</span> =&gt; $commands);
</pre></div><p>See <a class="el" href="group__ajax__commands.html">Ajax framework commands </a> </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga9d02bfeb3c0e9c3aa36c7f7645a042eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ajax.html#ga9d02bfeb3c0e9c3aa36c7f7645a042eb">ajax_base_page_theme</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Theme callback for Ajax requests.</p>
<p>Many different pages can invoke an Ajax request to system/ajax or another generic Ajax path. It is almost always desired for an Ajax response to be rendered using the same theme as the base page, because most themes are built with the assumption that they control the entire page, so if the CSS for two themes are both loaded for a given page, they may conflict with each other. For example, Bartik is Drupal's default theme, and Seven is Drupal's default administration theme. Depending on whether the "Use the administration theme
 when editing or creating content" checkbox is checked, the node edit form may be displayed in either theme, but the Ajax response to the Field module's "Add another item" button should be rendered using the same theme as the rest of the page. Therefore, system_menu() sets the 'theme callback' for 'system/ajax' to this function, and it is recommended that modules implementing other generic Ajax paths do the same.</p>
<dl class="section see"><dt>See also:</dt><dd>system_menu() </dd>
<dd>
file_menu() </dd></dl>

</div>
</div>
<a class="anchor" id="ga44a56b3660e97b39f87535a9a2bc8d8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ajax.html#ga44a56b3660e97b39f87535a9a2bc8d8a">ajax_deliver</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>page_callback_result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Packages and sends the result of a page callback as an Ajax response.</p>
<p>This function is the equivalent of <a class="el" href="common_8inc.html#a05ab0d6e81d6cbe2a6b9f645b9e710ec">drupal_deliver_html_page()</a>, but for Ajax requests. Like that function, it:</p>
<ul>
<li>Adds needed HTTP headers.</li>
<li>Prints rendered output.</li>
<li>Performs end-of-request tasks.</li>
</ul>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$page_callback_result</td><td>The result of a page callback. Can be one of:<ul>
<li>NULL: to indicate no content.</li>
<li>An integer menu status constant: to indicate an error condition.</li>
<li>A string of HTML content.</li>
<li>A renderable array of content.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="common_8inc.html#a05ab0d6e81d6cbe2a6b9f645b9e710ec">drupal_deliver_html_page()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga6994db099f28d8e2d51218813e730834"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ajax.html#ga6994db099f28d8e2d51218813e730834">ajax_footer</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Performs end-of-Ajax-request tasks.</p>
<p>This function is the equivalent of <a class="el" href="common_8inc.html#a64bc7d539a74e850935d73968788abd3">drupal_page_footer()</a>, but for Ajax requests.</p>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="common_8inc.html#a64bc7d539a74e850935d73968788abd3">drupal_page_footer()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="gabe2739824006df057d291f6be49759ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ajax.html#gabe2739824006df057d291f6be49759ab">ajax_form_callback</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Menu callback; handles Ajax requests for the #ajax Form API property.</p>
<p>This rebuilds the form from cache and invokes the defined #ajax['callback'] to return an Ajax command structure for JavaScript. In case no 'callback' has been defined, nothing will happen.</p>
<p>The Form API #ajax property can be set both for buttons and other input elements.</p>
<p>This function is also the canonical example of how to implement </p>
<h1>ajax['path']. If processing is required that cannot be accomplished with</h1>
<p>a callback, re-implement this function and set #ajax['path'] to the enhanced function.</p>
<dl class="section see"><dt>See also:</dt><dd>system_menu() </dd></dl>

</div>
</div>
<a class="anchor" id="ga9bc57ec64df41b20fd92b21fe8c1e6b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ajax.html#ga9bc57ec64df41b20fd92b21fe8c1e6b0">ajax_get_form</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets a form submitted via #ajax during an Ajax callback.</p>
<p>This will load a form from the form cache used during Ajax operations. It pulls the form info from $_POST.</p>
<dl class="section return"><dt>Returns:</dt><dd>An array containing the $form and $form_state. Use the list() function to break these apart: <div class="fragment"><pre class="fragment">     list($form, $form_state, $form_id, $form_build_id) = <a class="code" href="group__ajax.html#ga9bc57ec64df41b20fd92b21fe8c1e6b0">ajax_get_form</a>();
</pre></div> </dd></dl>

</div>
</div>
<a class="anchor" id="ga028d2f2b6b3875d91ea6cc88b19f237b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ajax.html#ga028d2f2b6b3875d91ea6cc88b19f237b">ajax_pre_render_element</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds Ajax information about an element to communicate with JavaScript.</p>
<p>If #ajax['path'] is set on an element, this additional JavaScript is added to the page header to attach the Ajax behaviors. See ajax.js for more information.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$element</td><td>An associative array containing the properties of the element. Properties used:<ul>
<li>#ajax['event']</li>
<li>#ajax['prevent']</li>
<li>#ajax['path']</li>
<li>#ajax['options']</li>
<li>#ajax['wrapper']</li>
<li>#ajax['parameters']</li>
<li>#ajax['effect']</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The processed element with the necessary JavaScript attached to it. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1dc07e6b41b955efdf29c2e7bf0aecdd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ajax.html#ga1dc07e6b41b955efdf29c2e7bf0aecdd">ajax_prepare_response</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>page_callback_result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Converts the return value of a page callback into an Ajax commands array.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$page_callback_result</td><td>The result of a page callback. Can be one of:<ul>
<li>NULL: to indicate no content.</li>
<li>An integer menu status constant: to indicate an error condition.</li>
<li>A string of HTML content.</li>
<li>A renderable array of content.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>An Ajax commands array that can be passed to <a class="el" href="group__ajax.html#ga241c2426bdde049c55b05b7bf5d714a2">ajax_render()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ga41a006b5f6d97e6e56e542f68fbc340d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ajax.html#ga41a006b5f6d97e6e56e542f68fbc340d">ajax_process_form</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&amp;$&#160;</td>
          <td class="paramname"><em>form_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Form element processing handler for the #ajax form property.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$element</td><td>An associative array containing the properties of the element.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The processed element.</dd></dl>
<dl class="section see"><dt>See also:</dt><dd><a class="el" href="group__ajax.html#ga028d2f2b6b3875d91ea6cc88b19f237b">ajax_pre_render_element()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ga241c2426bdde049c55b05b7bf5d714a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ajax.html#ga241c2426bdde049c55b05b7bf5d714a2">ajax_render</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>commands</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Renders a commands array into JSON.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">$commands</td><td>A list of macro commands generated by the use of ajax_command_*() functions. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Sun May 13 2012 05:35:55 for Drupal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
